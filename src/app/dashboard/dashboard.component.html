<div class="dashboard-wrapper">
  <!-- Hero Section -->
  <div class="dashboard-hero">
    <div class="hero-content">
      <div class="hero-text">
        <h1>Ol√°, <span class="user-highlight">{{ userName || 'Usu√°rio' }}</span>!</h1>
        <p class="hero-subtitle">{{ getTranslation('dashboard.welcome') }}</p>
        <div class="hero-actions">
          <button class="hero-action-btn primary" (click)="createNewProject()">
            <span class="btn-icon">‚ûï</span>
            {{ getTranslation('dashboard.newProject') }}
          </button>
          <button class="hero-action-btn secondary" (click)="generateReport()">
            <span class="btn-icon">üìä</span>
            {{ getTranslation('dashboard.generateReport') }}
          </button>
        </div>
      </div>
      <div class="hero-visual">
        <div class="hero-stats">
          <div class="stat-card">
            <div class="stat-icon">üìä</div>
            <div class="stat-number">{{ userStats.projects }}</div>
            <div class="stat-label">{{ getTranslation('dashboard.projects') }}</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">‚úÖ</div>
            <div class="stat-number">{{ userStats.tasks }}</div>
            <div class="stat-label">{{ getTranslation('dashboard.tasks') }}</div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üéØ</div>
            <div class="stat-number">{{ userStats.completed }}</div>
            <div class="stat-label">{{ getTranslation('dashboard.completed') }}</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Quick Actions Bar -->
  <div class="quick-actions-bar">
    <div class="actions-container">
      <div class="action-button primary" (click)="createNewProject()">
        <div class="action-icon">‚ûï</div>
        <div class="action-text">
          <div class="action-title">{{ getTranslation('dashboard.newProject') }}</div>
          <div class="action-subtitle">Criar um novo projeto</div>
        </div>
      </div>
      <div class="action-button secondary" (click)="addNewTask()">
        <div class="action-icon">üìù</div>
        <div class="action-text">
          <div class="action-title">{{ getTranslation('dashboard.newTask') }}</div>
          <div class="action-subtitle">Adicionar nova tarefa</div>
        </div>
      </div>
      <div class="action-button info" (click)="scheduleMeeting()">
        <div class="action-icon">üìÖ</div>
        <div class="action-text">
          <div class="action-title">{{ getTranslation('dashboard.scheduleMeeting') }}</div>
          <div class="action-subtitle">Agendar reuni√£o</div>
        </div>
      </div>
      <div class="action-button success" (click)="generateReport()">
        <div class="action-icon">üìä</div>
        <div class="action-text">
          <div class="action-title">{{ getTranslation('dashboard.generateReport') }}</div>
          <div class="action-subtitle">Gerar relat√≥rio</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Main Dashboard Content -->
  <div class="dashboard-content">
    <div class="content-grid">
      <!-- Analytics Overview -->
      <div class="analytics-overview">
        <div class="section-header">
          <h2>{{ getTranslation('dashboard.analytics') }}</h2>
          <div class="section-actions">
            <button class="icon-btn" (click)="refreshAnalytics()" title="Atualizar">üîÑ</button>
            <button class="icon-btn" (click)="exportAnalytics()" title="Exportar">üì§</button>
          </div>
        </div>
        <div class="analytics-grid">
          <div class="metric-card productivity">
            <div class="metric-header">
              <div class="metric-icon">‚ö°</div>
              <div class="metric-info">
                <h3>{{ getTranslation('dashboard.productivity') }}</h3>
              </div>
            </div>
            <div class="metric-value">{{ productivityScore }}%</div>
            <div class="metric-progress">
              <div class="progress-bar">
                <div class="progress-fill" [style.width.%]="productivityScore"></div>
              </div>
            </div>
            <div class="progress-change positive">+12% {{ getTranslation('dashboard.fromLastMonth') }}</div>
          </div>
          <div class="metric-card performance">
            <div class="metric-header">
              <div class="metric-icon">üë•</div>
              <div class="metric-info">
                <h3>{{ getTranslation('dashboard.teamPerformance') }}</h3>
              </div>
            </div>
            <div class="metric-value">{{ teamPerformance }}%</div>
            <div class="metric-progress">
              <div class="progress-bar">
                <div class="progress-fill" [style.width.%]="teamPerformance"></div>
              </div>
            </div>
            <div class="progress-change positive">+8% {{ getTranslation('dashboard.fromLastMonth') }}</div>
          </div>
          <div class="metric-card satisfaction">
            <div class="metric-header">
              <div class="metric-icon">üòä</div>
              <div class="metric-info">
                <h3>{{ getTranslation('dashboard.clientSatisfaction') }}</h3>
              </div>
            </div>
            <div class="metric-value">{{ clientSatisfaction }}%</div>
            <div class="metric-progress">
              <div class="progress-bar">
                <div class="progress-fill" [style.width.%]="clientSatisfaction"></div>
              </div>
            </div>
            <div class="progress-change positive">+15% {{ getTranslation('dashboard.fromLastMonth') }}</div>
          </div>
          <div class="metric-card revenue">
            <div class="metric-header">
              <div class="metric-icon">üí∞</div>
              <div class="metric-info">
                <h3>{{ getTranslation('dashboard.revenue') }}</h3>
              </div>
            </div>
            <div class="metric-value">R$ {{ revenue | number:'1.0-0' }}</div>
            <div class="revenue-trend">
              <div class="trend-chart">
                <div class="trend-line" [style.height.%]="85"></div>
                <div class="trend-line" [style.height.%]="92"></div>
                <div class="trend-line" [style.height.%]="78"></div>
                <div class="trend-line" [style.height.%]="95"></div>
              </div>
              <div class="trend-change">+22% {{ getTranslation('dashboard.fromLastMonth') }}</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Projects Overview -->
      <div class="projects-overview">
        <div class="section-header">
          <h2>{{ getTranslation('dashboard.projectProgress') }}</h2>
          <button class="manage-projects-btn" (click)="manageProjects()">
            {{ getTranslation('dashboard.viewAll') }}
          </button>
        </div>
        <div class="projects-grid">
          <div class="project-card" *ngFor="let project of activeProjects">
            <div class="project-header">
              <div class="project-info">
                <h4>{{ project.name }}</h4>
                <div class="project-status" [ngClass]="project.status">{{ project.statusText }}</div>
              </div>
              <div class="project-menu">
                <button class="menu-btn" (click)="openProjectMenu(project)">‚ãÆ</button>
              </div>
            </div>
            <div class="project-progress">
              <div class="progress-info">
                <span class="progress-label">Progresso</span>
                <span class="progress-value">{{ project.progress }}%</span>
              </div>
              <div class="progress-bar">
                <div class="progress-fill" [style.width.%]="project.progress"></div>
              </div>
            </div>
            <div class="project-meta">
              <div class="meta-item">
                <span>üìÖ</span>
                <span>{{ getTranslation('dashboard.due') }}: {{ project.deadline }}</span>
              </div>
              <div class="meta-item">
                <span>üë•</span>
                <span>{{ project.teamSize }} {{ getTranslation('dashboard.members') }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Activity & Notifications -->
    <div class="activity-notifications">
      <!-- Recent Activities -->
      <div class="activities-panel">
        <div class="panel-header">
          <h3>{{ getTranslation('dashboard.recentActivity') }}</h3>
          <button class="view-all-btn" (click)="viewAllActivities()">
            {{ getTranslation('dashboard.viewActivity') }}
          </button>
        </div>
        <div class="activities-list">
          <div class="activity-item" *ngFor="let activity of recentActivities.slice(0, 5)" (click)="showActivityDetails(activity)">
            <div class="activity-icon">{{ getActivityIcon(activity.type) }}</div>
            <div class="activity-content">
              <div class="activity-text">{{ activity.text }}</div>
              <div class="activity-time">{{ activity.time }}</div>
            </div>
            <div class="activity-arrow">‚Üí</div>
          </div>
        </div>
      </div>

      <!-- Notifications -->
      <div class="notifications-panel">
        <div class="panel-header">
          <h3>{{ getTranslation('dashboard.notifications') }}</h3>
          <div class="notification-count" *ngIf="unreadNotificationsCount > 0">
            {{ unreadNotificationsCount }}
          </div>
        </div>
        <div class="notifications-list">
          <div class="notification-item" 
               *ngFor="let notification of notifications.slice(0, 4)"
               [ngClass]="{ 'unread': !notification.read }"
               (click)="dismissNotification(notification)">
            <div class="notification-icon">{{ getNotificationIcon(notification.type) }}</div>
            <div class="notification-content">
              <div class="notification-text">{{ notification.text }}</div>
              <div class="notification-time">{{ notification.time }}</div>
            </div>
            <button class="notification-close" 
                    (click)="dismissNotification(notification); $event.stopPropagation()"
                    [title]="getTranslation('dashboard.dismissNotification')">√ó</button>
          </div>
        </div>
        <button class="view-all-notifications" (click)="viewAllNotifications()">
          {{ getTranslation('dashboard.viewAll') }}
        </button>
      </div>
    </div>
  </div>

  <!-- Quick Links & Support -->
  <div class="quick-links-support">
    <!-- Quick Links -->
    <div class="quick-links-panel">
      <h3>{{ getTranslation('dashboard.quickLinks') }}</h3>
      <div class="links-grid">
        <button class="quick-link" (click)="navigateTo('profile')">
          <div class="link-icon">üë§</div>
          <span>{{ getTranslation('dashboard.profile') }}</span>
        </button>
        <button class="quick-link" (click)="navigateTo('settings')">
          <div class="link-icon">‚öôÔ∏è</div>
          <span>{{ getTranslation('dashboard.settings') }}</span>
        </button>
        <button class="quick-link" (click)="navigateTo('reports')">
          <div class="link-icon">üìä</div>
          <span>{{ getTranslation('dashboard.reports') }}</span>
        </button>
        <button class="quick-link" (click)="navigateTo('help')">
          <div class="link-icon">‚ùì</div>
          <span>{{ getTranslation('dashboard.help') }}</span>
        </button>
      </div>
    </div>

    <!-- Support -->
    <div class="support-panel">
      <h3>Suporte</h3>
      <div class="support-options">
        <button class="support-btn chat" (click)="openChatSupport()">
          <div class="support-icon">üí¨</div>
          <div class="support-info">
            <div class="support-title">Chat ao Vivo</div>
            <div class="support-subtitle">Resposta imediata</div>
          </div>
        </button>
        <button class="support-btn email" (click)="sendSupportEmail()">
          <div class="support-icon">üìß</div>
          <div class="support-info">
            <div class="support-title">Email</div>
            <div class="support-subtitle">Resposta em 24h</div>
          </div>
        </button>
        <button class="support-btn phone" (click)="callSupport()">
          <div class="support-icon">üìû</div>
          <div class="support-info">
            <div class="support-title">Telefone e WhatsApp</div>
            <div class="support-subtitle">+55 98 999649-9215</div>
          </div>
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Component Views -->
<div class="component-overlay" *ngIf="showProfileComponent || showSettingsComponent || showReportsComponent || showHelpComponent">
  <div class="component-container">
    <div class="component-header">
      <button class="component-close" (click)="closeAllComponents()">
        ‚Üê Voltar ao Dashboard
      </button>
    </div>
    
    <app-profile *ngIf="showProfileComponent"></app-profile>
    <app-settings *ngIf="showSettingsComponent"></app-settings>
    <app-reports *ngIf="showReportsComponent"></app-reports>
    <app-help *ngIf="showHelpComponent"></app-help>
  </div>
</div>

<!-- Activity Details Modal -->
<div class="modal-overlay" *ngIf="showActivityModal" (click)="closeActivityModal()">
  <div class="activity-modal" (click)="$event.stopPropagation()">
    <div class="activity-modal-header">
      <div class="activity-modal-icon">{{ getActivityIcon(selectedActivity?.type) }}</div>
      <h3 class="activity-modal-title">Detalhes da Atividade</h3>
      <button class="modal-close" (click)="closeActivityModal()">√ó</button>
    </div>
    
    <div class="activity-modal-body" *ngIf="selectedActivity">
      <div class="activity-detail-item">
        <span class="activity-detail-label">Descri√ß√£o:</span>
        <span class="activity-detail-value">{{ selectedActivity.text }}</span>
      </div>
      
      <div class="activity-detail-item">
        <span class="activity-detail-label">Tipo:</span>
        <span class="activity-detail-value">{{ getActivityTypeName(selectedActivity.type) }}</span>
      </div>
      
      <div class="activity-detail-item">
        <span class="activity-detail-label">Status:</span>
        <span class="activity-status" [class]="selectedActivity.status">{{ selectedActivity.statusText }}</span>
      </div>
      
      <div class="activity-detail-item">
        <span class="activity-detail-label">Hor√°rio:</span>
        <span class="activity-detail-value">{{ selectedActivity.time }}</span>
      </div>
      
      <div class="activity-detail-item" *ngIf="selectedActivity.details">
        <span class="activity-detail-label">Detalhes:</span>
        <span class="activity-detail-value">{{ selectedActivity.details }}</span>
      </div>
    </div>
  </div>
</div>

<!-- Report Modal -->
<div class="modal-overlay" *ngIf="showReportModal" (click)="closeReportModal()">
  <div class="report-modal" (click)="$event.stopPropagation()">
    <div class="report-header">
      <h2>üìä Gerar Relat√≥rio</h2>
      <p>Escolha o tipo de relat√≥rio que deseja gerar</p>
      <button class="modal-close" (click)="closeReportModal()">√ó</button>
    </div>
    
    <div class="report-options">
      <div class="report-card" (click)="generateSelectedReport('projects')">
        <div class="report-icon">üìÅ</div>
        <div class="report-info">
          <h3>Relat√≥rio de Projetos</h3>
          <p>Lista completa de todos os projetos com status, progresso e prazos</p>
          <div class="report-meta">
            <span class="format">CSV</span>
            <span class="count">{{ activeProjects.length }} projetos</span>
          </div>
        </div>
        <div class="report-arrow">‚Üí</div>
      </div>
      
      <div class="report-card" (click)="generateSelectedReport('tasks')">
        <div class="report-icon">‚úÖ</div>
        <div class="report-info">
          <h3>Relat√≥rio de Tarefas</h3>
          <p>Todas as tarefas com prioridades, status e associa√ß√µes a projetos</p>
          <div class="report-meta">
            <span class="format">CSV</span>
            <span class="count">{{ tasks.length }} tarefas</span>
          </div>
        </div>
        <div class="report-arrow">‚Üí</div>
      </div>
      
      <div class="report-card" (click)="generateSelectedReport('analytics')">
        <div class="report-icon">üìà</div>
        <div class="report-info">
          <h3>Relat√≥rio de Analytics</h3>
          <p>M√©tricas de produtividade, performance e satisfa√ß√£o do cliente</p>
          <div class="report-meta">
            <span class="format">HTML</span>
            <span class="count">4 m√©tricas</span>
          </div>
        </div>
        <div class="report-arrow">‚Üí</div>
      </div>
      
      <div class="report-card featured" (click)="generateSelectedReport('complete')">
        <div class="report-icon">üìã</div>
        <div class="report-info">
          <h3>Relat√≥rio Completo</h3>
          <p>Dashboard completo com todos os dados, gr√°ficos e estat√≠sticas</p>
          <div class="report-meta">
            <span class="format premium">HTML Premium</span>
            <span class="count">Tudo inclu√≠do</span>
          </div>
        </div>
        <div class="report-arrow">‚Üí</div>
        <div class="featured-badge">Recomendado</div>
      </div>
    </div>
    
    <div class="report-footer">
      <div class="report-info-text">
        <p>üí° Os relat√≥rios s√£o gerados instantaneamente e baixados automaticamente</p>
      </div>
    </div>
  </div>
</div>

<style>
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.modal-content {
  background: white;
  border-radius: 12px;
  width: 90%;
  max-width: 500px;
  max-height: 90vh;
  overflow-y: auto;
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px;
  border-bottom: 1px solid #E5E7EB;
}

.modal-header h3 {
  margin: 0;
  color: #374151;
}

.modal-close {
  background: none;
  border: none;
  font-size: 24px;
  cursor: pointer;
  color: #9CA3AF;
}

.modal-body {
  padding: 20px;
}

.form-group {
  margin-bottom: 16px;
}

.form-group label {
  display: block;
  margin-bottom: 6px;
  font-weight: 500;
  color: #374151;
}

.form-group input,
.form-group select,
.form-group textarea {
  width: 100%;
  padding: 10px 12px;
  border: 1px solid #D1D5DB;
  border-radius: 8px;
  font-size: 14px;
}

.form-group textarea {
  height: 80px;
  resize: vertical;
}

.form-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
}

.modal-footer {
  display: flex;
  justify-content: flex-end;
  gap: 12px;
  padding: 20px;
  border-top: 1px solid #E5E7EB;
}

.btn-primary {
  background: #4F46E5;
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 500;
}

.btn-secondary {
  background: #F3F4F6;
  color: #374151;
  border: none;
  padding: 10px 20px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 500;
}

@media (max-width: 768px) {
  .modal-content {
    width: 95%;
    margin: 20px;
  }
  
  .form-row {
    grid-template-columns: 1fr;
  }
}

/* Report Modal */
.report-modal {
  background: white;
  border-radius: 20px;
  width: 90%;
  max-width: 600px;
  max-height: 90vh;
  overflow-y: auto;
}

.report-header {
  text-align: center;
  padding: 30px;
  background: linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%);
  color: white;
  border-radius: 20px 20px 0 0;
  position: relative;
}

.report-header h2 {
  margin: 0 0 8px 0;
  font-size: 24px;
}

.report-header .modal-close {
  position: absolute;
  top: 20px;
  right: 20px;
  background: rgba(255, 255, 255, 0.2);
  border: none;
  color: white;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  cursor: pointer;
}

.report-options {
  padding: 30px;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.report-card {
  display: flex;
  align-items: center;
  padding: 20px;
  border: 2px solid #E5E7EB;
  border-radius: 16px;
  cursor: pointer;
  transition: all 0.3s;
  position: relative;
}

.report-card:hover {
  border-color: #4F46E5;
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(79, 70, 229, 0.15);
}

.report-card.featured {
  border-color: #10B981;
  background: linear-gradient(135deg, #ECFDF5 0%, #F0FDF4 100%);
}

.report-icon {
  font-size: 32px;
  margin-right: 20px;
}

.report-info {
  flex: 1;
}

.report-info h3 {
  margin: 0 0 6px 0;
  font-size: 18px;
  color: #1F2937;
}

.report-info p {
  margin: 0 0 12px 0;
  color: #6B7280;
  font-size: 14px;
}

.report-meta {
  display: flex;
  gap: 12px;
}

.format {
  background: #4F46E5;
  color: white;
  padding: 4px 8px;
  border-radius: 6px;
  font-size: 11px;
  font-weight: 600;
}

.format.premium {
  background: #10B981;
}

.count {
  color: #6B7280;
  font-size: 12px;
}

.report-arrow {
  font-size: 20px;
  color: #9CA3AF;
  margin-left: 16px;
  transition: all 0.2s;
}

.report-card:hover .report-arrow {
  color: #4F46E5;
  transform: translateX(4px);
}

.featured-badge {
  position: absolute;
  top: 12px;
  right: 12px;
  background: #10B981;
  color: white;
  padding: 4px 8px;
  border-radius: 6px;
  font-size: 10px;
  font-weight: 600;
}

.report-footer {
  padding: 20px 30px;
  border-top: 1px solid #E5E7EB;
  background: #F9FAFB;
  border-radius: 0 0 20px 20px;
}

.report-info-text p {
  margin: 0;
  color: #6B7280;
  font-size: 14px;
  text-align: center;
}

/* Activity Details Modal */
.activity-modal {
  background: white;
  border-radius: 16px;
  width: 90%;
  max-width: 500px;
  overflow: hidden;
}

.activity-modal-header {
  background: linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%);
  color: white;
  padding: 24px;
  text-align: center;
  position: relative;
}

.activity-modal-icon {
  font-size: 48px;
  margin-bottom: 12px;
}

.activity-modal-title {
  font-size: 20px;
  font-weight: 600;
  margin: 0;
}

.activity-modal-header .modal-close {
  position: absolute;
  top: 16px;
  right: 16px;
  background: rgba(255, 255, 255, 0.2);
  border: none;
  color: white;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  cursor: pointer;
}

.activity-modal-body {
  padding: 24px;
}

.activity-detail-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 0;
  border-bottom: 1px solid #F3F4F6;
}

.activity-detail-item:last-child {
  border-bottom: none;
}

.activity-detail-label {
  font-weight: 500;
  color: #374151;
}

.activity-detail-value {
  color: #6B7280;
}

.activity-status {
  display: inline-block;
  padding: 4px 8px;
  border-radius: 12px;
  font-size: 12px;
  font-weight: 500;
  text-transform: capitalize;
}

.activity-status.created { background: #DBEAFE; color: #1E40AF; }
.activity-status.updated { background: #FEF3C7; color: #92400E; }
.activity-status.completed { background: #D1FAE5; color: #065F46; }
.activity-status.scheduled { background: #E0E7FF; color: #3730A3; }
.activity-status.generated { background: #F3E8FF; color: #6B21A8; }

.activity-item {
  cursor: pointer;
  transition: all 0.2s;
  position: relative;
}

.activity-item:hover {
  background: #F9FAFB;
  transform: translateX(4px);
}

.activity-arrow {
  color: #D1D5DB;
  font-size: 16px;
  transition: all 0.2s;
}

.activity-item:hover .activity-arrow {
  color: #4F46E5;
  transform: translateX(4px);
}

.notification-item {
  cursor: pointer;
  transition: all 0.2s;
}

.notification-item:hover {
  background: #F9FAFB;
  transform: translateX(2px);
}
</style>

<!-- Project Modal -->
<div class="modal-overlay" *ngIf="showProjectModal" (click)="closeProjectModal()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h3>{{ isEditingProject ? 'Editar Projeto' : 'Novo Projeto' }}</h3>
      <button class="modal-close" (click)="closeProjectModal()">√ó</button>
    </div>
    <div class="modal-body">
      <div class="form-group">
        <label>Nome do Projeto</label>
        <input type="text" [(ngModel)]="currentProject.name" placeholder="Digite o nome do projeto">
      </div>
      <div class="form-group">
        <label>Descri√ß√£o</label>
        <textarea [(ngModel)]="currentProject.description" placeholder="Descreva o projeto"></textarea>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label>Status</label>
          <select [(ngModel)]="currentProject.status">
            <option value="planning">Planejamento</option>
            <option value="in-progress">Em Andamento</option>
            <option value="review">Em Revis√£o</option>
            <option value="completed">Conclu√≠do</option>
          </select>
        </div>
        <div class="form-group">
          <label>Tamanho da Equipe</label>
          <input type="number" [(ngModel)]="currentProject.teamSize" min="1">
        </div>
      </div>
      <div class="form-group">
        <label>Data de Entrega</label>
        <input type="date" [(ngModel)]="currentProject.deadline">
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn-secondary" (click)="closeProjectModal()">Cancelar</button>
      <button class="btn-primary" (click)="saveProject()">{{ isEditingProject ? 'Atualizar' : 'Criar' }}</button>
    </div>
  </div>
</div>

<!-- Task Modal -->
<div class="modal-overlay" *ngIf="showTaskModal" (click)="closeTaskModal()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h3>{{ isEditingTask ? 'Editar Tarefa' : 'Nova Tarefa' }}</h3>
      <button class="modal-close" (click)="closeTaskModal()">√ó</button>
    </div>
    <div class="modal-body">
      <div class="form-group">
        <label>T√≠tulo da Tarefa</label>
        <input type="text" [(ngModel)]="currentTask.title" placeholder="Digite o t√≠tulo da tarefa">
      </div>
      <div class="form-group">
        <label>Descri√ß√£o</label>
        <textarea [(ngModel)]="currentTask.description" placeholder="Descreva a tarefa"></textarea>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label>Projeto</label>
          <select [(ngModel)]="currentTask.projectId">
            <option value="">Nenhum projeto</option>
            <option *ngFor="let project of activeProjects" [value]="project.id">{{ project.name }}</option>
          </select>
        </div>
        <div class="form-group">
          <label>Prioridade</label>
          <select [(ngModel)]="currentTask.priority">
            <option value="low">Baixa</option>
            <option value="medium">M√©dia</option>
            <option value="high">Alta</option>
          </select>
        </div>
      </div>
      <div class="form-group">
        <label>Data de Vencimento</label>
        <input type="date" [(ngModel)]="currentTask.dueDate">
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn-secondary" (click)="closeTaskModal()">Cancelar</button>
      <button class="btn-primary" (click)="saveTask()">{{ isEditingTask ? 'Atualizar' : 'Criar' }}</button>
    </div>
  </div>
</div>

<!-- Meeting Modal -->
<div class="modal-overlay" *ngIf="showMeetingModal" (click)="closeMeetingModal()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h3>Agendar Reuni√£o</h3>
      <button class="modal-close" (click)="closeMeetingModal()">√ó</button>
    </div>
    <div class="modal-body">
      <div class="form-group">
        <label>T√≠tulo da Reuni√£o</label>
        <input type="text" [(ngModel)]="currentMeeting.title" placeholder="Digite o t√≠tulo da reuni√£o">
      </div>
      <div class="form-row">
        <div class="form-group">
          <label>Data</label>
          <input type="date" [(ngModel)]="currentMeeting.date">
        </div>
        <div class="form-group">
          <label>Hor√°rio</label>
          <input type="time" [(ngModel)]="currentMeeting.time">
        </div>
      </div>
      <div class="form-group">
        <label>Participantes</label>
        <input type="text" [(ngModel)]="currentMeeting.participants" placeholder="Separados por v√≠rgula">
      </div>
      <div class="form-group">
        <label>Descri√ß√£o</label>
        <textarea [(ngModel)]="currentMeeting.description" placeholder="Descreva a reuni√£o"></textarea>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn-secondary" (click)="closeMeetingModal()">Cancelar</button>
      <button class="btn-primary" (click)="saveMeeting()">Agendar</button>
    </div>
  </div>
</div>